<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Uma Lição para não ser Aprendida</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Eu sou bacharel em Ciência da Computação pela Universidade Federal de Pernambuco e trabalho como Engenheiro de Sistemas Sênior do CESAR desde de 2001. Desenvolvo software desde 1991, e já trabalhei com várias plataformas e linguagens. Me considero especialista em metodologias ágeis, tendo implantado essas técnicas em algumas empresas do Porto Digital. Além das questões relacionadas com desenvolvimento, também possuo experiência na aplicação de ferramentas para modelagem de negócios em diversos clientes do CESAR, como: Fiat, Sonae Sierra Brasil, Livraria e Editora Saraiva e Elcoma.">
    <link rel="canonical" href="http://borba.blog.br/2013/11/uma-licao-para-nao-ser-aprendida">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/flow.css">

</head>


    <body>

    <header class="site-header">

  <div class="wrap">

    <img class="site-logo" src="/assets/logo56.png"/>
    <a class="site-title" href="/">Borba on Software</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
          <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
            h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
            h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
            c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
          <a class="page-link" href="/about/">About</a>
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>Uma Lição para não ser Aprendida</h1>
    <p class="meta">Nov 6, 2013</p>
  </header>

  <article class="post-content">
  <p>No começo da década de 90 eu trabalhava em uma empresa chamada TWR Informática. Lá, eu programava para o MT100, um microterminal para entrada de dados.</p>

<p>O MT100 era um pequeno dispositivo com um teclado numérico e um display de 2 linhas de 16 caracteres, controlado por um processador Z80. O software que comandava este equipamento rodava em um computador PC, onde os terminais eram ligados através de sua interface paralela.
[<img src="http://borba.blog.br/wordpress/wp-content/uploads/2013/11/z80.jpg" alt="z80" title="&quot;)](http://borba.blog.br/wordpress/wp-content/uploads/2013/11/z80.jpg &quot;" /></p>

<p>O programa que controlava o que aparecia na tela dos microterminais e processava os inputs dos usuários, rodava de forma [residente](http://en.wikipedia.org/wiki/Terminate_and_Stay_Resident “”) no DOS. O programa era “acordado” de tempos em tempos por uma interrupção do sistema (minha memória não é suficientemente boa para lembrar qual interrupçãao usávamos), fazia o polling dos dispositivos e executava a lógica necessária.</p>

<p>Depois de algumas versões, resolvemos enfrentar o desafio de fazer com que os programas do MT100 fizessem acesso a arquivos de dados. Nossa primeira abordagem foi criar um formato proprietário para armazenar os dados necessários, mas rapidamente nos deparamos com o problema de que precisaríamos criar arquivos de índices para acesso mais eficiente aos dados.</p>

<p>Rildo Pragana, conhecido por ter criado o Corisco (o legítimo computador pernambucano), era nosso líder técnico. Um belo dia, Rildo trouxe um disquete com uma biblioteca que implementava a estrutura B-Tree, escolha lógica para implementar a solução dos índices. No dia seguinte ele viajou, deixando essa nobre tarefa para a sua jovem equipe.</p>

<p>[<img src="http://borba.blog.br/wordpress/wp-content/uploads/2013/11/corisco-295x300.gif" alt="corisco" title="&quot;)](http://borba.blog.br/wordpress/wp-content/uploads/2013/11/corisco.gif &quot;" /></p>

<p>Começamos a tentar colocar a biblioteca para funcionar, mas por mais tentássemos, o bagulho não funcionava. Depois de quebrar a cabeça por um bom tempo chegamos a conclusão que a biblioteca estava irremediavelmente bugada. Como o uso desta biblioteca se provou ser um beco sem saída, passamos para o plano b, vamos escrever nossa própria implementação de B-Tree.</p>

<p>Pense em um desafio tesão. Corremos imediatamente para a Livro 7 e compramos um livro que mostrava como funcionava essa estrutura de dados. Eu sei que a essas alturas você deve estar se perguntando por que não procuramos no Google ou no Wikipedia, mas naquele tempo não existia nada disso. Internet pra mim era o e-mail que eu tinha na faculdade e lamba os beiços.</p>

<p>Aquela semana de trabalho, onde todo mundo chegava pra trabalhar já de pau duro (não literal, por favor) é uma das lembranças mais legais que eu tenho da minha carreira. O trabalho valeu a pena. Após alguns dias, os sistemas feitos para o MT100 finalmente podiam fazer consultas a dados de forma eficiente. Agora, era só esperar a chegada de Rildo para coroar aquele trabalho maravilhoso.</p>

<p>Rildo chega, a equipe toda reunida conta o que aconteceu, de como ele nos atrapalhou nos dando uma biblioteca quebrada e como nós salvamos o dia criando a nossa própria solução. Sabe qual foi o resultado?</p>

<p>ESPORRO MONUMENTAL! ESPORRO 8.5 na escala Richter.</p>

<p>“Eu não disse que era pra usar essa biblioteca?”, Rildo esbravejava.</p>

<p>“Mas não funciona. Tentamos de tudo, não tem jeito”, a gente se defendia, ainda perplexos com a reação de Rildo.</p>

<p>“Me dê essa porra de disquete aqui”, Rildo disse, pegando o disquete e saindo para casa.</p>

<p>No dia seguinte, ainda confusos com o acontecido, esperamos a chegada de Rildo para saber o que fazer em seguida. Rildo finalmente chega com um sorriso que ia de orelha a orelha. Senta esparramado na cadeira joga o disquete na mesa e diz: “Era um bug da biblioteca padrão do Turbo C 1.5, já corrigi, esta aí. Podem usar a biblioteca agora”.</p>

<p>Como é? Um bug no C? Ele corrigiu? Como esse gênio filho de uma puta conseguiu descobrir?</p>

<p>[<img src="http://borba.blog.br/wordpress/wp-content/uploads/2013/11/once-upon-a-time-in-the-west1-1024x805.jpg" alt="velho oeste" title="&quot;)](http://borba.blog.br/wordpress/wp-content/uploads/2013/11/once-upon-a-time-in-the-west1.jpg &quot;" /></p>

<p>Deste episódio, tirei várias lições, mas quero falar sobre uma lição que não deve ser aprendida. Não estamos mais nos tempos do velho oeste. Nossos sistemas operacionais, nossos compiladores, nossas bibliotecas, nossas ferramentas estão muito mais maduras e estáveis do que naquele tempo. A quantidade de desenvolvedores que usam essas tecnologias se multiplicou, criando massa crítica para que essas bibliotecas atinjam a maturidade mais rapidamente. Se você se deparar hoje em dia com um bug fantasmagórico o mais provável é que o erro seja realmente seu. Culpar o compilador, a biblioteca ou o sistema operacional só faz você perder tempo e se distanciar da solução.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrap">

    <h2 class="footer-heading">Borba on Software</h2>

    <div class="footer-col-1 column">
      <ul>
        <li>Borba on Software</li>
        <li><a href="mailto:lborba@gmail.com">lborba@gmail.com</a></li>
      </ul>
    </div>

    <div class="footer-col-2 column">
      <ul>
        <li>
          <a href="https://github.com/borba">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <span class="username">borba</span>
          </a>
        </li>
        <li>
          <a href="https://twitter.com/luizborba">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>
            <span class="username">luizborba</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="footer-col-3 column">
      <p class="text">Eu sou bacharel em Ciência da Computação pela Universidade Federal de Pernambuco e trabalho como Engenheiro de Sistemas Sênior do CESAR desde de 2001. Desenvolvo software desde 1991, e já trabalhei com várias plataformas e linguagens. Me considero especialista em metodologias ágeis, tendo implantado essas técnicas em algumas empresas do Porto Digital. Além das questões relacionadas com desenvolvimento, também possuo experiência na aplicação de ferramentas para modelagem de negócios em diversos clientes do CESAR, como: Fiat, Sonae Sierra Brasil, Livraria e Editora Saraiva e Elcoma.</p>
    </div>

  </div>

</footer>


    </body>
</html>